I"›<h2 id="running-the-server-on-default-ports">Running the Server on Default Ports</h2>

<p>If you want to run this on the default port, the user running this example will
need permission to connect to that protected port. In our setup, we often have
multiple domains running on the same machine, and we use apache to map to this
setup. This allows you to run the server as a normal user.  Additionally, our
service does not directly support SSL, so you will need to do something similar
to this setup when you move to a production setup.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;VirtualHost</span> <span class="err">*:80</span><span class="nt">&gt;</span>
  ServerName dams.mylibrary.org
  ServerAdmin admin@mylibrary.org
  RewriteEngine on
  RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [END,QSA,R=permanent]
<span class="nt">&lt;/VirtualHost&gt;</span>

<span class="nt">&lt;IfModule</span> <span class="err">mod_ssl.c</span><span class="nt">&gt;</span>
 <span class="nt">&lt;VirtualHost</span> <span class="err">*:443</span><span class="nt">&gt;</span>
        ServerName dams.mylibrary.org
        SSLEngine on

        Header set Access-Control-Allow-Origin "*"
#        SSLCertificateFile      /etc/ssl/certs/__name__.cer
#       SSLCertificateKeyFile /etc/ssl/private/__name__.key

       # Required for RIIIF pathnames
       AllowEncodedSlashes On
       ProxyPreserveHost On
       ProxyPass / http://localhost:3000/ nocanon
       ProxyPassReverse / http://localhost:3000/ nocanon
<span class="nt">&lt;/VirtualHost&gt;</span>
<span class="nt">&lt;/IfModule&gt;</span>
</code></pre></div></div>
:ET